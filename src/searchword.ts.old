import 'whatwg-fetch';

import { HttpClient } from 'aurelia-http-client';

import { bindable } from 'aurelia-framework';



export class SearchWord {
    @bindable
    word: string = '123';
    private httpClient: HttpClient;

    constructor() {
        this.httpClient = new HttpClient();
      /*  this.httpClient.configure((config) => {
            config.withBaseUrl('http://localhost:3000/api/v1/isolema/wordLike')
                .withInterceptor({
                    request(request) {
                        console.log(`Requesting ${request.method} ${request.url}`);
                        return request; // you can return a modified Request, or you can short-circuit the request by returning a Response
                    },
                    response(response) {
                        console.log(`Received ${response.status} ${response.url}`);
                        return response; // you can return a modified Response
                    }
                });
        });*/
    }
    public wordChanged(newValue: string, oldValue: string) {
        if (newValue.length > 3) {
            this.httpClient.get('package.json')
                .then(response => response.response)
                .then(data => {
                    console.log(data.statusText);
                });
        }
        console.log(`wordChanged(${newValue}, ${oldValue})`);
    }
}
